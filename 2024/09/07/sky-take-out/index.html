<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="私人博客"><title>sky-take-out | WordsWorth</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/latest/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/grids-responsive-min.min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/latest/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script type="text/javascript" src="//lib.baomitu.com/clipboard.js/latest/clipboard.min.js"></script><script type="text/javascript" src="//lib.baomitu.com/toastr.js/latest/toastr.min.js"></script><link rel="stylesheet" href="//lib.baomitu.com/toastr.js/latest/toastr.min.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">sky-take-out</h1><a id="logo" href="/.">WordsWorth</a><p class="description">纳塔纳埃尔，你应当焚毁心中的所有书籍</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">sky-take-out</h1><div class="post-meta">2024-09-07</div><div class="post-content"><p>苍穹外卖 sky-take-out<br>一、项目调试问题<br>1、nginx双击无反应<br>error log CreateDirectory() “D:\nginx&#x2F;temp&#x2F;client_body_temp” failed，解决方法，将nginx放在非中文路径下，新建一个temp文件夹<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/loveyour_1314/article/details/88552926">https://blog.csdn.net/loveyour_1314/article/details/88552926</a><br>2、数据库连接报错<br>配置项信息在application.yml中封装了，只需对application-dev.yml配置文件进行修改，包括本地ip，数据库用户和密码<br>datasource:<br>  druid:<br>    driver-class-name: ${sky.datasource.driver-class-name}<br>    url: jdbc:mysql:&#x2F;&#x2F;${sky.datasource.host}:${sky.datasource.port}&#x2F;${sky.datasource.database}?serverTimezone&#x3D;Asia&#x2F;Shanghai&amp;useUnicode&#x3D;true&amp;characterEncoding&#x3D;utf-8&amp;zeroDateTimeBehavior&#x3D;convertToNull&amp;useSSL&#x3D;false&amp;allowPublicKeyRetrieval&#x3D;true<br>    username: ${sky.datasource.username}<br>    password: ${sky.datasource.password}<br>datasource:<br>  driver-class-name: com.mysql.cj.jdbc.Driver<br>  host: 127.0.0.1<br>  port: 3306<br>  database: sky_take_out<br>  username: root<br>  password: root<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/m0_74823429/article/details/138667071">https://blog.csdn.net/m0_74823429/article/details/138667071</a><br>3、登录密码错误<br>查看代码，密码经过了md5加密，数据库中存放的密码应该为加密后的<br>将mysql数据表employee的admin的密码从123456改为加密后的e10adc3949ba59abbe56e057f20f883e<br>md5加密工具：<a target="_blank" rel="noopener" href="https://tool.chinaz.com/tools/md5.aspx">https://tool.chinaz.com/tools/md5.aspx</a><br><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_45008709/article/details/137258131">https://blog.csdn.net/qq_45008709/article/details/137258131</a><br>4、导入API文件失败<br>显示不支持格式，因为各软件JSON格式不同无法解析，要选择Yapi格式的JSON文件导入<br>使用APIfox导入，Postman不支持Yapi<br><a target="_blank" rel="noopener" href="https://app.apifox.com/project/5122275">https://app.apifox.com/project/5122275</a><br>二、项目技术点<br>1、nginx反向代理<br>●提高响应速度<br>●实现负载均衡<br>前端可以连接到多个后端服务器，nginx可以协调多个后端服务器的负载<br>●保证安全<br>前端不能直接发送请求到后端，要通过nginx反向代理转发请求到后端<br>2、使用swagger<br>●swagger代码<br>通过配置静态资源，knife4j相关代码，通过API注解，在项目编写过程中自动生成API文档，便于测试<br>&#x2F;**</p>
<ul>
<li>通过knife4j生成接口文档</li>
<li>@return<br> *&#x2F;<br>@Bean<br>public Docket docket() {<br> ApiInfo apiInfo &#x3D; new ApiInfoBuilder()<br>     .title(“苍穹外卖项目接口文档”)<br>     .version(“2.0”)<br>     .description(“苍穹外卖项目接口文档”)<br>     .build();<br> Docket docket &#x3D; new Docket(DocumentationType.SWAGGER_2)<br>     .apiInfo(apiInfo)<br>     .select()<br>     .apis(RequestHandlerSelectors.basePackage(“com.sky.controller”))<br>     .paths(PathSelectors.any())<br>     .build();<br> return docket;<br>}</li>
</ul>
<p>&#x2F;**</p>
<ul>
<li>设置静态资源映射</li>
<li>@param registry<br> *&#x2F;<br>protected void addResourceHandlers(ResourceHandlerRegistry registry) {<br> registry.addResourceHandler(“&#x2F;doc.html”).addResourceLocations(“classpath:&#x2F;META-INF&#x2F;resources&#x2F;“);<br> registry.addResourceHandler(“&#x2F;webjars&#x2F;**”).addResourceLocations(“classpath:&#x2F;META-INF&#x2F;resources&#x2F;webjars&#x2F;“);<br>}<br>●不使用postman<br>如果使用postman进行接口测试需要一个一个手动输入，效率低下<br>●如果不设置静态资源映射会出现什么问题？<br>刷新接口文档页面会显示找不到controller，以为要访问的是控制器类而不是静态资源<br>@Bean<br>public Docket docket1(){<br> log.info(“准备生成接口文档…”);<br> ApiInfo apiInfo &#x3D; new ApiInfoBuilder()<br>     .title(“苍穹外卖项目接口文档”)<br>     .version(“2.0”)<br>     .description(“苍穹外卖项目接口文档”)<br>     .build();<br> Docket docket &#x3D; new Docket(DocumentationType.SWAGGER_2)<br>     .groupName(“管理端接口”)<br>     .apiInfo(apiInfo)<br>     .select()<br>     &#x2F;&#x2F;指定生成接口需要扫描的包<br>     .apis(RequestHandlerSelectors.basePackage(“com.sky.controller.admin”))<br>     .paths(PathSelectors.any())<br>     .build();<br>return docket;</li>
</ul>
<p>}</p>
<p>3、优化登录操作<br>●数据库存储<br>使用md5对密码等敏感信息进行加密，数据库中存储的是经过md5加密后的值<br>●用户信息验证<br>每次需要通过对用户登陆操作输入的原始密码进行md5加密，再与通过用户名从数据库中取出的值进行对比，验证用户身份<br>&#x2F;&#x2F; TODO 后期需要进行md5加密，然后再进行比对<br>password &#x3D; DigestUtils.md5DigestAsHex(password.getBytes());<br>●单向加密<br>md5是一种单向加密方式，无法对加密过后的信息进行解密</p>
</div><div class="post-copyright"><script type="text/javascript" src="/js/copyright.js?v=1.0.0" successtext="复制成功！"></script><link rel="stylesheet" type="text/css" href="/css/copyright.css?v=1.0.0"><p><span>本文标题：</span>sky-take-out</p><p><span>文章作者：</span>phosphorus619</p><p><span>发布时间：</span>2024-09-07</p><p><span>最后更新：</span>2024-09-07</p><p><span>原始链接：</span><a href="/2024/09/07/sky-take-out/">http://phosphorus619.github.io/2024/09/07/sky-take-out/</a><span class="copy-path"><i class="fa fa-clipboard" data-clipboard-text="http://phosphorus619.github.io/2024/09/07/sky-take-out/"></i></span></p><p><span>版权声明：</span>本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0 CN</a> 许可协议。转载请注明出处！</p></div><br><div class="tags"><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/backend-develop/" rel="tag">backend develop</a></li></ul></div><div class="post-nav"><a class="pre" href="/2025/04/29/%E7%AC%AC%E4%B8%80%E7%82%89%E9%A6%99/">第一炉香</a><a class="next" href="/2024/07/24/hku%20cs/">hku cs</a></div><div id="container"></div><link rel="stylesheet" type="text/css" href="//unpkg.com/gitalk/dist/gitalk.css"><script type="text/javascript" src="//cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.js"></script><script type="text/javascript" src="//unpkg.com/gitalk/dist/gitalk.min.js"></script><script>var gitalk = new Gitalk({
  clientID: 'Ov23lix7Rk131b04srR1',
  clientSecret: 'c319f7ead62f20b447bf1e1c1212c4604c8ea012',
  repo: 'phosphorus619.github.io',
  owner: 'phosphorus619',
  admin: ['phosphorus619'],
  id: md5(location.pathname),
  distractionFreeMode: false
})
gitalk.render('container')
</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://phosphorus619.github.io"/></form></div><div class="widget"><div class="author-info"><a class="info-avatar" href="/about/" title="关于"><img class="nofancybox" src="/img/avatar.png"/></a><p>Per aspera ad astra.</p><a class="info-icon" href="https://x.com/2383soukoku" title="Twitter" target="_blank" style="margin-inline:5px"> <i class="fa fa-twitter-square" style="margin-inline:5px"></i></a><a class="info-icon" href="mailto:admin@domain.com" title="Email" target="_blank" style="margin-inline:5px"> <i class="fa fa-envelope-square" style="margin-inline:5px"></i></a><a class="info-icon" href="https://github.com/phosphorus619" title="Github" target="_blank" style="margin-inline:5px"> <i class="fa fa-github-square" style="margin-inline:5px"></i></a><a class="info-icon" href="/atom.xml" title="RSS" target="_blank" style="margin-inline:5px"> <i class="fa fa-rss-square" style="margin-inline:5px"></i></a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%AD%8C%E8%AF%8D/">歌词</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%9A%8F%E7%AC%94/">随笔</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Hermit-Prisoner/" style="font-size: 15px;">Hermit | Prisoner</a> <a href="/tags/musicale/" style="font-size: 15px;">musicale</a> <a href="/tags/water-cs/" style="font-size: 15px;">water cs</a> <a href="/tags/backend-develop/" style="font-size: 15px;">backend develop</a> <a href="/tags/Ashes-of-the-Kingdom/" style="font-size: 15px;">Ashes of the Kingdom</a> <a href="/tags/Mishima-Yukio/" style="font-size: 15px;">Mishima Yukio</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2025/04/29/%E7%AC%AC%E4%B8%80%E7%82%89%E9%A6%99/">第一炉香</a></li><li class="post-list-item"><a class="post-list-link" href="/2024/09/07/sky-take-out/">sky-take-out</a></li><li class="post-list-item"><a class="post-list-link" href="/2024/07/24/hku%20cs/">hku cs</a></li><li class="post-list-item"><a class="post-list-link" href="/2024/07/20/%E9%95%BF%E5%88%80%E4%B9%8B%E5%A4%9C/">长刀之夜</a></li><li class="post-list-item"><a class="post-list-link" href="/2024/07/03/De%20Profundis/">De Profundis</a></li><li class="post-list-item"><a class="post-list-link" href="/2024/04/30/My%20Name%20is%20Perpetual%20Motion%20Machine/">My Name is Perpetual Motion Machine</a></li><li class="post-list-item"><a class="post-list-link" href="/2024/01/30/Nevermore/">Nevermore</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/11/29/Les%20Mis%C3%A9rable/">Les Misérable</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2025 <a href="/." rel="nofollow">WordsWorth.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.js"></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0"></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.css"><script type="text/javascript" color="100,99,98" opacity="0.7" zIndex="-1" count="150" src="//lib.baomitu.com/canvas-nest.js/latest/canvas-nest.js"></script><script type="text/javascript" src="/js/love.js?v=1.0.0"></script><script type="text/javascript" src="/js/copycode.js?v=1.0.0" successtext="复制成功！"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css?v=1.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>